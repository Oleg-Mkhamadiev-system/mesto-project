(()=>{"use strict";var e=document.querySelector(".popup_content_profile"),t=document.querySelector(".popup_content_elements"),r=document.querySelector(".popup_content_images"),n=document.querySelector(".popup_content_avatar"),o=document.querySelector(".popup_delete_confirm"),c=document.querySelector(".profile__edit-button"),u=document.querySelector(".profile__add-button"),a=(document.querySelector(".profile__avatar-button"),document.querySelectorAll(".popup__close-button")),l=e.querySelector(".popup__form"),p=e.querySelector(".popup__input_data_name"),s=e.querySelector(".popup__input_data_profession"),i=document.querySelector(".profile__title"),d=document.querySelector(".profile__subtitle"),_=(document.querySelector(".profile__avatar"),t.querySelector(".popup__form")),m=(n.querySelector(".popup__form"),o.querySelector(".popup__form"),t.querySelector(".popup__input_data_place")),f=t.querySelector(".popup__input_link_image"),v=(document.querySelector(".elements__card-text"),document.querySelector(".elements__card-image"),document.querySelector(".elements__card"),document.querySelector(".popup__image")),y=document.querySelector(".popup__figcaption"),S=Array.from(document.querySelectorAll(".popup")),q=document.querySelector(".elements__cards"),b=["inputSelector","submitButtonSelector","inactiveButtonClass"];function k(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var g,E,L,C=function(e,t,r,n){var o=n.inputErrorClass,c=n.errorClass,u=e.querySelector("#".concat(t.id,"-error"));t.classList.add(o),u.textContent=r,u.classList.add(c)},h=function(e,t,r){e.some((function(e){return!e.validity.valid}))?(t.disabled=!0,t.classList.add(r)):(t.disabled=!1,t.classList.remove(r))};function x(e){e.classList.add("popup_opened"),document.addEventListener("keydown",O)}function j(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",O)}function O(e){"Escape"===e.key&&j(document.querySelector(".popup_opened"))}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=function(e){var t=e.link,n=e.name,o=document.querySelector(".template__elements").content.querySelector(".elements__card").cloneNode(!0);o.querySelector(".elements__card-text").textContent=n;var c=o.querySelector(".elements__card-image");c.src=t,c.alt=n,c.addEventListener("click",(function(){!function(e,t){v.src=t,v.alt=e,y.textContent=e,x(r)}(n,t)}));var u=o.querySelector(".elements__like-button");return u.addEventListener("click",(function(){u.classList.toggle("elements__like-button_active")})),o.querySelector(".elements__delete-button").addEventListener("click",(function(e){e.target.closest(".elements__card").remove()})),o}(e);q.prepend(t)})),c.addEventListener("click",(function(){p.value=i.textContent,s.value=d.textContent,x(e)})),u.addEventListener("click",(function(){x(t)})),l.addEventListener("submit",(function(t){t.preventDefault(),i.textContent=m.value,d.textContent=f.value,j(e)})),_.addEventListener("submit",(function(e){e.preventDefault();var r={name:m.value,link:f.value},n=createCard(r);cardsContainer.prepend(n),j(t);var o=e.submitter;o.disabled=!0,o.classList.add("popup__save-button_disabled"),formNewCardElement.reset()})),a.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return j(t)}))})),S.forEach((function(e){e.addEventListener("click",(function(t){t.target.classList.contains("popup__overlay")&&j(e)}))})),E=(g={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"}).formSelector,L=k(g,["formSelector"]),Array.from(document.querySelectorAll(E)).forEach((function(e){!function(e,t){var r=t.inputSelector,n=t.submitButtonSelector,o=t.inactiveButtonClass,c=k(t,b),u=Array.from(e.querySelectorAll(r)),a=e.querySelector(n);h(u,a,o),u.forEach((function(t){t.addEventListener("input",(function(){!function(e,t,r){t.validity.valid?function(e,t,r){var n=r.inputErrorClass,o=r.errorClass,c=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(n),c.textContent="",c.classList.remove(o)}(e,t,r):t.validity.patternMismatch?C(e,t,t.dataset.errorMessage,r):C(e,t,t.validationMessage,r)}(e,t,c),h(u,a,o)}))}))}(e,L)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T2hCLEdBRTlCRSxFQUFhSyxZQUFjLEdBRTNCTCxFQUFhRyxVQUFVVyxPQUFPZixFQUNoQyxDQTdDSXlELENBQWU5RCxFQUFhQyxFQUFjSCxHQUNqQ0csRUFBYWdCLFNBQVM4QyxnQkFDL0JoRSxFQUFlQyxFQUNiQyxFQUNBQSxFQUFhK0QsUUFBUTlELGFBQ3JCSixHQUdGQyxFQUNFQyxFQUNBQyxFQUNBQSxFQUFhZ0Usa0JBQ2JuRSxFQUdOLENBbUVNb0UsQ0FBbUJsRSxFQUFhQyxFQUFjSCxHQUU5Q2MsRUFBa0JDLEVBQVdDLEVBQWNDLEVBQzdDLEdBQ0YsR0FDRixDQVFJb0QsQ0FBa0JuRSxFQUFhRixFQUNqQyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL3V0aWxzLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvbW9kYWwuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QvLi9zcmMvY29tcG9uZW50cy9jYXJkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vINC/0L7Qv9Cw0L/Ri1xuZXhwb3J0IGNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9jb250ZW50X3Byb2ZpbGUnKTtcbmV4cG9ydCBjb25zdCBwb3B1cFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2NvbnRlbnRfZWxlbWVudHMnKTtcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9jb250ZW50X2ltYWdlcycpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2NvbnRlbnRfYXZhdGFyJyk7XG5leHBvcnQgY29uc3QgcG9wdXBEZWxldGVDb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2RlbGV0ZV9jb25maXJtJyk7XG5cbi8vINC60L3QvtC/0LrQuCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QvtCyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1idXR0b24nKTtcblxuLy8g0LrQvtC70LvQtdC60YbQuNGPINC60L3QvtC/0L7QuiDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QvtCyINC/0L4g0LrRgNC10YHRgtC40LrRg1xuZXhwb3J0IGNvbnN0IHBvcHVwQnV0dG9uQ2xvc2VMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19jbG9zZS1idXR0b24nKTtcblxuLy8g0YTQvtGA0LzQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQtNCw0L3QvdGL0YVcbmV4cG9ydCBjb25zdCBmb3JtRWRpdEVsZW1lbnQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZGF0YV9uYW1lJyk7XG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9kYXRhX3Byb2Zlc3Npb24nKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlU3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fc3VidGl0bGUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuXG4vLyDRhNC+0YDQvNCwINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstGL0YUg0LrQsNGA0YLQvtGH0LXQulxuZXhwb3J0IGNvbnN0IGZvcm1OZXdDYXJkRWxlbWVudCA9IHBvcHVwUGxhY2UucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG5leHBvcnQgY29uc3QgZm9ybUF2YXRhckVsZW1lbnQgPSBwb3B1cEF2YXRhci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbmV4cG9ydCBjb25zdCBmb3JtQ29uZmlybUVsZW1lbnQgPSBwb3B1cERlbGV0ZUNvbmZpcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG5leHBvcnQgY29uc3QgbmFtZVBsYWNlSW5wdXQgPSBwb3B1cFBsYWNlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZGF0YV9wbGFjZScpO1xuZXhwb3J0IGNvbnN0IGxpbmtJbWFnZUlucHV0ID0gcG9wdXBQbGFjZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2xpbmtfaW1hZ2UnKTtcbmV4cG9ydCBjb25zdCBjYXJkVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY2FyZC10ZXh0Jyk7XG5leHBvcnQgY29uc3QgY2FyZEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19jYXJkLWltYWdlJyk7XG5cbmV4cG9ydCBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY2FyZCcpO1xuXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZUNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG5leHBvcnQgY29uc3QgcG9wdXBGaWdjYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19maWdjYXB0aW9uJyk7XG5cbi8vINC60L7Qu9C70LXQutGG0LjRjyDQv9C+0L/QsNC/0L7QslxuZXhwb3J0IGNvbnN0IHBvcHVwRWxlbWVudExpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpKTtcblxuLy8g0YHQvtC30LTQsNGOINC/0YPRgdGC0L7QuSDQutC+0L3RgtC10LnQvdC10YAsINGH0YLQvtCx0Ysg0LLQu9C+0LbQuNGC0Ywg0LrQsNGA0YLQvtGH0LrQuCDQsiDRgdC10LrRhtC40Y4gZWxlbWVudHNcbmV4cG9ydCBjb25zdCBjb250YWluZXJTZWxlY3RvciA9ICcuZWxlbWVudHNfX2NhcmRzJztcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY2FyZHMnKTtcblxuLy8g0LzQsNGB0YHQuNCyINC60LDRgNGC0L7Rh9C10LpcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiAn0JDRgNGF0YvQtycsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZydcbiAgfVxuXTtcblxuXG4vLyDQvtCx0YrQtdC60YIg0LLQsNC70LjQtNCw0YbQuNC4XG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc2F2ZS1idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3NhdmUtYnV0dG9uX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX3Zpc2libGUnXG59O1xuIiwiXG4vLyDRg9C90LjQstC10YDRgdCw0LvRjNC90LDRjyDRhNGD0L3QutGG0LjRjywg0L/QvtC60LDQt9GL0LLQsNGO0YnQsNGPINCy0LDQu9C40LTQvdC+0YHRgtGMINC40LvQuCDQvdC1INCy0LDQu9C40LTQvdC+0YHRgtGMINC40L3Qv9GD0YLQvtCyXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgcmVzdCkgPT4ge1xuXG4gIC8vINC/0LXRgNC10LzQtdC90L3QsNGPINGB0L7QttC10YDQttCw0YnQsNGPINCy0LDQu9C40LTQvdC+0YHRgtGMINC40L3Qv9GD0YLQsFxuICBjb25zdCBpc1ZhbGlkID0gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuXG4gIGlmIChpc1ZhbGlkKSB7XG4gICAgLy8g0LXRgdC70Lgg0LjQvdC/0YPRgiDQstCw0LvQuNC00LXQvSwg0YLQviDRgdC/0YDRj9GH0Y4g0L7RiNC40LHQutGDXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgcmVzdCk7XG4gIH0gZWxzZSBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnBhdHRlcm5NaXNtYXRjaCkge1xuICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LmRhdGFzZXQuZXJyb3JNZXNzYWdlLFxuICAgICAgcmVzdClcbiAgfSBlbHNlIHtcbiAgICAvLyDQtdGB0LvQuCDQvdC1INCy0LDQu9C40LTQtdC9LCDRgtC+INC/0L7QutCw0LfRi9Cy0LDRjiDQvtGI0LjQsdC60YNcbiAgICBzaG93SW5wdXRFcnJvcihcbiAgICAgIGZvcm1FbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLFxuICAgICAgcmVzdFxuICAgICk7XG4gIH1cbn07XG5cbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKFxuICBmb3JtRWxlbWVudCxcbiAgaW5wdXRFbGVtZW50LFxuICBlcnJvck1lc3NhZ2UsXG4gIHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH1cbikgPT4ge1xuICAvLyDQstGL0LHQuNGA0LDRjiDRjdC70LXQvNC10L3RgiDQvtGI0LjQsdC60Lgg0L3QsCDQvtGB0L3QvtCy0LUg0YPQvdC40LrQsNC70YzQvdC+0LPQviDQutC70LDRgdGB0LBcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAvLyDQuNC90L/Rg9GC0YMg0LTQvtCx0LDQstC70Y/RjiDRgtC40L8g0L7RiNC40LHQutC4XG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XG4gIC8vINC+0YjQuNCx0LrQtSDQv9C10YDQtdC00LDRjiDRgtC10LrRgdGCINGB0L7QvtCx0YnQtdC90LjRj1xuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIC8vINC+0YjQuNCx0LrQtSDQtNC+0LHQsNCy0LvRj9GOINC60LvQsNGB0YEg0L7RiNC40LHQutC4XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoXG4gIGZvcm1FbGVtZW50LFxuICBpbnB1dEVsZW1lbnQsXG4gIHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH1cbikgPT4ge1xuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gIC8vINGDINC40L3Qv9GD0YLQsCDRg9Cx0LjRgNCw0Y4g0YLQuNC/INC+0YjQuNCx0LrQuFxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuICAvLyDRg9Cx0LjRgNCw0Y4g0YLQtdC60YHRgiDQvtGI0LjQsdC60LhcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgLy8g0YPQsdC40YDQsNGOINC60LvQsNGB0YEg0L7RiNC40LHQutC4XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xufTtcblxuLy8g0YTRg9C90LrRhtC40Y8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60LhcbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgc3VibWl0QnV0dG9uLCBpbmFjdGl2ZUJ1dHRvbkNsYXNzKSA9PiB7XG4gIC8vINC/0LXRgNC10LzQtdC90L3QsNGPINGB0L7QtNC10YDQttC40YIg0LIg0YHQtdCx0LUg0YLQviwg0YfRgtC+INC40LzQtdC10YIg0L3QtdCy0LDQu9C40LTQvdGL0Lkg0LjQvdC/0YPRglxuICAvLyDQtdGB0LvQuCDQutCw0LrQvtC5LdC90LjQsdGD0LTRjCDQuNC90L/Rg9GCINC90LXQstCw0LvQuNC00L3Ri9C5LCDQstC10YDQvdC10YIgdHJ1ZSDQvNC10YLQvtC00L7QvCBzb21lXG4gIGNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IGlucHV0TGlzdC5zb21lKFxuICAgIChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcbiAgKTtcblxuICBpZiAoaGFzSW52YWxpZElucHV0KSB7XG4gICAgLy8g0LXRgdC70Lgg0YXQvtGC0Y8g0LHRiyDQvtC00LjQvSDQuNC90L/Rg9GCINC90LXQstCw0LvQuNC00L3Ri9C5LCDQutC90L7Qv9C60LAg0LfQsNCx0LvQvtC60LjRgNGD0LXRgtGB0Y9cbiAgICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9IGVsc2Uge1xuICAgIC8vINC10YHQu9C4INCy0YHQtSDQuNC90L/Rg9GC0Ysg0LLQsNC70LjQtNC90YssINC60L3QvtC/0LrQsCDRgNCw0LfQsdC70L7QutC40YDRg9C10YLRgdGPXG4gICAgc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cbn07XG5cbi8vINC90LDQutC70LDQtNGL0LLQsNGOINGB0LvRg9GI0LDRgtC10LvRjyDQvdCwINGE0L7RgNC80YtcbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKFxuICBmb3JtRWxlbWVudCxcbiAgeyBpbnB1dFNlbGVjdG9yLCBzdWJtaXRCdXR0b25TZWxlY3RvciwgaW5hY3RpdmVCdXR0b25DbGFzcywgLi4ucmVzdCB9XG4pID0+IHtcbiAgLy8g0L3QsNGF0L7QttGDINGDINGN0YLQvtC5INGE0L7RgNC80Ysg0LjQvdC/0YPRgtGLINC4INC60L3QvtC/0LrRgyDRgdCw0LHQvNC40YJcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGlucHV0U2VsZWN0b3IpKTtcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIC8vINCy0YvQt9GL0LLQsNGOINC60L3QvtC/0LrRgyDQuNC30L3QsNGH0LDQu9GM0L3Qviwg0LrQvtGC0L7RgNCw0Y8g0YHQsNC80LAg0YHQtdCx0Y8g0L/RgNC+0LLQtdGA0LjRgixcbiAgLy8g0LXRgdC70Lgg0LXRgdGC0Ywg0L3QtdCy0LDQu9C40LTQvdGL0Lkg0LjQvdC/0YPRgiwg0LrQvdC+0L/QutCwINC30LDQsdC70L7QutC40YDRg9C10YLRgdGPXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgc3VibWl0QnV0dG9uLCBpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcblxuICAvLyDQvdCwINC60LDQttC00YvQuSDQuNC90L/Rg9GCINC90LDQstC10YjQuNCy0LDRjiDRgdC70YPRiNCw0YLQtdC70Y9cbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIC8vINCy0YvQt9GL0LLQsNGOINGE0YPQvdC60YbQuNGOLCDQv9GA0L7QstC10YDRj9GO0YnRg9GOINC40L3Qv9GD0YIg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjFxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIHJlc3QpO1xuICAgICAgLy8g0LLRi9C30YvQstCw0Y4g0YTRg9C90LrRhtC40Y4g0YDQsNC30LHQu9C+0LrQuNGA0L7QstC60Lgg0LrQvdC+0L/QutC4INC/0YDQuCDQstCw0LvQuNC00L3QvtGB0YLQuCDQstGB0LXRhSDQuNC90L/Rg9GC0L7QslxuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBzdWJtaXRCdXR0b24sIGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbi8vINGE0YPQvdC60YbQuNGPINC30LDQv9GD0YHQutCwINCy0LDQu9C40LTQsNGG0LjQuFxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9ICh7IGZvcm1TZWxlY3RvciwgLi4ucmVzdCB9KSA9PiB7XG4gIC8vINC90LDRhdC+0LbRgyDQstGB0LUg0YTQvtGA0LzRiyDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZm9ybVNlbGVjdG9yKSk7XG4gIC8vINC90LAg0LrQsNC20LTRg9GOINGE0L7RgNC80YMg0L3QsNCy0LXRiNC40LLQsNGOINGB0LvRg9GI0LDRgtC10LvRj1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50LCByZXN0KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBlbmFibGVWYWxpZGF0aW9uIH07XG4iLCJcbmltcG9ydCB7XG4gIG5hbWVJbnB1dCxcbiAgbmFtZVBsYWNlSW5wdXQsXG4gIGxpbmtJbWFnZUlucHV0LFxuICBqb2JJbnB1dCxcbiAgcHJvZmlsZVRpdGxlLFxuICBwcm9maWxlU3VidGl0bGUsXG4gIHBvcHVwSW1hZ2VDb250ZW50LFxuICBwb3B1cEZpZ2NhcHRpb24sXG4gIHBvcHVwUHJvZmlsZSxcbiAgcG9wdXBQbGFjZSxcbiAgcG9wdXBJbWFnZXNcbn0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuZnVuY3Rpb24gb3BlblBvcHVwKHBvcHVwRWxlbWVudCkge1xuICBwb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgLy8g0L3QsNCy0LXRiNC40LLQsNGOINC+0LHRgNCw0LHQvtGC0YfQuNC6INC90LAg0LfQsNC60YDRi9GC0LjQtSDQvtGC0LrRgNGL0YLQvtCz0L4g0L/QvtC/0LDQv9CwINC/0L4g0LrQvdC+0L/QutC1XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlQnlFc2MpO1xufVxuXG5mdW5jdGlvbiBjbG9zZVBvcHVwKHBvcHVwRWxlbWVudCkge1xuICBwb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgLy8g0YPQtNCw0LvRj9GOINC+0LHRgNCw0LHQvtGC0YfQuNC6XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlQnlFc2MpO1xufVxuXG5mdW5jdGlvbiBvcGVuRWRpdFBvcHVwKCkge1xuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlVGl0bGUudGV4dENvbnRlbnQ7XG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZVN1YnRpdGxlLnRleHRDb250ZW50O1xuICBvcGVuUG9wdXAocG9wdXBQcm9maWxlKTtcbn1cblxuZnVuY3Rpb24gb3BlbkFkZFBvcHVwKCkge1xuICBvcGVuUG9wdXAocG9wdXBQbGFjZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdEVkaXRGb3JtKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZVBsYWNlSW5wdXQudmFsdWU7XG4gIHByb2ZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudCA9IGxpbmtJbWFnZUlucHV0LnZhbHVlO1xuICBjbG9zZVBvcHVwKHBvcHVwUHJvZmlsZSk7XG59XG5cbi8vINGE0YPQvdC60YbQuNGPINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C10LpcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdEFkZEZvcm0oZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBkYXRhID0geyBuYW1lOiBuYW1lUGxhY2VJbnB1dC52YWx1ZSwgbGluazogbGlua0ltYWdlSW5wdXQudmFsdWUgfTtcbiAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XG4gIGNhcmRzQ29udGFpbmVyLnByZXBlbmQobmV3Q2FyZCk7XG4gIGNsb3NlUG9wdXAocG9wdXBQbGFjZSk7XG4gIGNvbnN0IGJ1dHRvbiA9IGV2dC5zdWJtaXR0ZXI7XG4gIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX3NhdmUtYnV0dG9uX2Rpc2FibGVkXCIpO1xuICBmb3JtTmV3Q2FyZEVsZW1lbnQucmVzZXQoKTtcbn1cblxuLy8g0YTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LrQsNGA0YLQuNC90LrQuFxuZnVuY3Rpb24gb3BlblBvcHVwSW1hZ2VzKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBJbWFnZUNvbnRlbnQuc3JjID0gbGluaztcbiAgcG9wdXBJbWFnZUNvbnRlbnQuYWx0ID0gbmFtZTtcbiAgcG9wdXBGaWdjYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgb3BlblBvcHVwKHBvcHVwSW1hZ2VzKTtcbn1cblxuLy8g0YTRg9C90LrRhtC40Y8g0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0L7QsiDQv9C+INC60LvQuNC60YMg0L3QsCDQutC90L7Qv9C60YMgRXNjYXBlXG5mdW5jdGlvbiBjbG9zZUJ5RXNjKGV2dCkge1xuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IHBvcHVwT3BlbmVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuZWRcIik7XG4gICAgY2xvc2VQb3B1cChwb3B1cE9wZW5lZCk7XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgb3BlbkVkaXRQb3B1cCxcbiAgb3BlbkFkZFBvcHVwLFxuICBjbG9zZVBvcHVwLFxuICBvcGVuUG9wdXBJbWFnZXMsXG4gIGhhbmRsZVN1Ym1pdEVkaXRGb3JtLFxuICBoYW5kbGVTdWJtaXRBZGRGb3JtLFxufTtcbiIsImltcG9ydCB7XG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBwcm9maWxlQWRkQnV0dG9uLFxuICBwb3B1cEJ1dHRvbkNsb3NlTGlzdCxcbiAgZm9ybUVkaXRFbGVtZW50LFxuICBmb3JtTmV3Q2FyZEVsZW1lbnQsXG4gIHBvcHVwRWxlbWVudExpc3QsXG4gIGNhcmRzQ29udGFpbmVyLFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBpbml0aWFsQ2FyZHNcbn0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IGVuYWJsZVZhbGlkYXRpb24gfSBmcm9tIFwiLi92YWxpZGF0ZS5qc1wiO1xuXG5pbXBvcnQgeyBjcmVhdGVDYXJkIH0gZnJvbSBcIi4vY2FyZC5qc1wiO1xuaW1wb3J0IHsgb3BlbkVkaXRQb3B1cCxcbiAgb3BlbkFkZFBvcHVwLFxuICBjbG9zZVBvcHVwLFxuICBoYW5kbGVTdWJtaXRFZGl0Rm9ybSxcbiAgaGFuZGxlU3VibWl0QWRkRm9ybSxcbn0gZnJvbSAnLi9tb2RhbC5qcyc7XG5cbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChkYXRhKTtcbiAgY2FyZHNDb250YWluZXIucHJlcGVuZChuZXdDYXJkKTtcbn0pO1xuXG4vLyDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC90LAg0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0L7QslxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5FZGl0UG9wdXApO1xucHJvZmlsZUFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlbkFkZFBvcHVwKTtcblxuLy8g0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQvdCwINGB0LDQsdC80LjRgtC90YvQtSDQutC90L7Qv9C60LhcbmZvcm1FZGl0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVN1Ym1pdEVkaXRGb3JtKTtcbmZvcm1OZXdDYXJkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVN1Ym1pdEFkZEZvcm0pO1xuXG4vLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQvdCwINC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9C+0LIg0L/QviDQutC70LjQutGDINC80YvRiNC4INC90LAg0LrRgNC10YHRgtC40LpcblxucG9wdXBCdXR0b25DbG9zZUxpc3QuZm9yRWFjaCgoYnRuKSA9PiB7XG4gIGNvbnN0IHBvcHVwID0gYnRuLmNsb3Nlc3QoXCIucG9wdXBcIik7XG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VQb3B1cChwb3B1cCkpO1xufSk7XG5cbi8vINC/0LXRgNC10LHQuNGA0LDRjiDQutC+0LvQu9C10LrRhtC40Y4g0LzQsNGB0YHQuNCy0LAg0L/QvtC/0LDQv9C+0LIg0LzQtdGC0L7QtNC+0LwgZm9yRWFjaFxucG9wdXBFbGVtZW50TGlzdC5mb3JFYWNoKChwb3B1cEVsZW1lbnQpID0+IHtcbiAgLy8g0L3QsNCy0LXRiNC40LLQsNGOINC+0LHRgNCw0LHQvtGC0YfQuNC6INC90LAg0LfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0L7QsiDQv9C+INC60LvQuNC60YMg0L3QsCDQvtCy0LXRgNC70Y3QuVxuICBwb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fb3ZlcmxheVwiKSkge1xuICAgICAgY2xvc2VQb3B1cChwb3B1cEVsZW1lbnQpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLy8g0LLRi9C30YvQstCw0Y4g0YTRg9C90LrRhtC40Y4g0LLQsNC70LjQtNCw0YbQuNC4XG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xuIiwiaW1wb3J0IHsgb3BlblBvcHVwSW1hZ2VzIH0gZnJvbSAnLi9tb2RhbC5qcyc7XG5cbi8vINGE0YPQvdC60YbQuNGPINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LXQulxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xuICBjb25zdCB7IGxpbmssIG5hbWUgfSA9IGNhcmREYXRhO1xuXG4gIGNvbnN0IHRlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wbGF0ZV9fZWxlbWVudHMnKS5jb250ZW50O1xuICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IHRlbXBsYXRlRWxlbWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkXCIpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICBuZXdDYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkLXRleHRcIikudGV4dENvbnRlbnQgPSBuYW1lO1xuICBjb25zdCBjYXJkSW1hZ2VFbGVtZW50ID0gbmV3Q2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICBcIi5lbGVtZW50c19fY2FyZC1pbWFnZVwiXG4gICk7XG5cbiAgY2FyZEltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xuICBjYXJkSW1hZ2VFbGVtZW50LmFsdCA9IG5hbWU7XG4gIGNhcmRJbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBvcGVuUG9wdXBJbWFnZXMobmFtZSwgbGluayk7XG4gIH0pO1xuXG4gIGNvbnN0IGJ1dHRvbkxpa2UgPSBuZXdDYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlLWJ1dHRvblwiKTtcblxuICBidXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfSk7XG5cbiAgY29uc3QgY2FyZERlbGV0ZUJ1dHRvbiA9IG5ld0NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgXCIuZWxlbWVudHNfX2RlbGV0ZS1idXR0b25cIlxuICApO1xuXG4gIGNhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICBjb25zdCBjYXJkRWxlbWVudHMgPSBldnQudGFyZ2V0LmNsb3Nlc3QoXCIuZWxlbWVudHNfX2NhcmRcIik7XG5cbiAgICBjYXJkRWxlbWVudHMucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIHJldHVybiBuZXdDYXJkRWxlbWVudDtcbn1cblxuZXhwb3J0IHsgY3JlYXRlQ2FyZCB9O1xuIl0sIm5hbWVzIjpbInBvcHVwUHJvZmlsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBvcHVwUGxhY2UiLCJwb3B1cEltYWdlcyIsInBvcHVwQXZhdGFyIiwicG9wdXBEZWxldGVDb25maXJtIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlQWRkQnV0dG9uIiwicG9wdXBCdXR0b25DbG9zZUxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9ybUVkaXRFbGVtZW50IiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJwcm9maWxlVGl0bGUiLCJwcm9maWxlU3VidGl0bGUiLCJmb3JtTmV3Q2FyZEVsZW1lbnQiLCJuYW1lUGxhY2VJbnB1dCIsImxpbmtJbWFnZUlucHV0IiwicG9wdXBJbWFnZUNvbnRlbnQiLCJwb3B1cEZpZ2NhcHRpb24iLCJwb3B1cEVsZW1lbnRMaXN0IiwiQXJyYXkiLCJmcm9tIiwiY2FyZHNDb250YWluZXIiLCJfcmVmNCIsImZvcm1TZWxlY3RvciIsInJlc3QiLCJzaG93SW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX3JlZiIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJlcnJvckVsZW1lbnQiLCJjb25jYXQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJzdWJtaXRCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJkaXNhYmxlZCIsInJlbW92ZSIsIm9wZW5Qb3B1cCIsInBvcHVwRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZUJ5RXNjIiwiY2xvc2VQb3B1cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJuYW1lIiwibGluayIsImZvckVhY2giLCJkYXRhIiwibmV3Q2FyZCIsImNhcmREYXRhIiwibmV3Q2FyZEVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEltYWdlRWxlbWVudCIsInNyYyIsImFsdCIsIm9wZW5Qb3B1cEltYWdlcyIsImJ1dHRvbkxpa2UiLCJ0b2dnbGUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiY3JlYXRlQ2FyZCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJwcmVwZW5kIiwiYnV0dG9uIiwic3VibWl0dGVyIiwicmVzZXQiLCJidG4iLCJwb3B1cCIsImNvbnRhaW5zIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX3JlZjMiLCJfZXhjbHVkZWQiLCJfcmVmMiIsImhpZGVJbnB1dEVycm9yIiwicGF0dGVybk1pc21hdGNoIiwiZGF0YXNldCIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9